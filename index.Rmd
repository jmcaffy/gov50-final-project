---
title: "Gov 50 Final Project"
author: "James McAffrey"
description: "Covid-19 Shutdown Impact on Trump's Approval"
output:
  distill::distill_article:
    self_contained: false
---

## Project Data Proposal

In this project, I am looking at the approval ratings of Donald Trump’s presidency following the beginning of the Covid-19 shutdown on March 15th, 2020. My hypothesis is that as the numbers of days after the shutdown increase, we will see a decline of Donald Trump’s popularity. This is interesting because it could show how his handling of the pandemic contributed to his loss of the Presidency in the election.
 
```{r}
library(tidyverse)
library(ggplot2)
library(dplyr)

pres_approval <- read.csv("data/president_approval_polls_historical.csv")

```
\newpage


Calculates the average approval rating of President Trump's 4 years in office.
```{r}
trump_approval <- pres_approval |>
  filter(politician == "Donald Trump")

t_approval_day_mean <- trump_approval |>
  group_by(end_date) |>
  mutate(
    average_yes = mean(yes) 
      ) |>
  summarize(
    average_day_yes = mean(average_yes)
  )

```

```{r}

t_approval_date <- t_approval_day_mean[order(as.Date(t_approval_day_mean$end_date, format="%m/%d/%Y")),]

t_approval_date <- t_approval_date |>
  mutate(observation = 1:n())

t_approval_date <- t_approval_date |> 
  filter(observation >= 1149) |>
  mutate(observation = 1:n()) 

smoothed_plot <- ggplot(data = t_approval_date, mapping = aes(x = observation, y = average_day_yes)) +
  geom_point() +
  geom_smooth() +
  labs(
    title = "Trump Approval from 3/15/20-1/19/21",
    y = "Average Approval",
    x = "# of Days after Covid-19 Shutdown"
  )
smoothed_plot

linear_plot <- ggplot(data = t_approval_date, mapping = aes(x = observation, y = average_day_yes)) +
  geom_point() +
  geom_smooth(method = "lm") +
  labs(
    title = "Trump Approval from 3/15/20-1/19/21",
    y = "Average Approval",
    x = "# of Days after Covid-19 Shutdown"
  )

linear_plot
#linear <- lm(average_day_yes ~ observation, data = t_approval_date)

#linear

```















