---
title: "Gov 50 Final Project"
author: "James McAffrey"
description: "Covid-19 Shutdown Impact on Trump's Approval"
output:
  distill::distill_article:
    self_contained: false
---

## Project Data Proposal

In this project, I am looking at the approval ratings of Donald Trump’s presidency following the beginning of the Covid-19 shutdown on March 15th, 2020. My hypothesis is that as the numbers of days after the shutdown increase, we will see a decline of Donald Trump’s popularity. This is interesting because it could show how his handling of the pandemic contributed to his loss of the Presidency in the election.
 
```{r}
library(tidyverse)
library(ggplot2)
library(dplyr)

pres_approval <- read.csv("data/president_approval_polls_historical.csv")

```
\newpage


The data source is a collection of approval polls conducted by various sources during Donald Trump’s presidency. The dependent variable is Trump’s approval rating which is measured for each day that a poll was conducted. If there were multiple polls that day, the average of them all was conducted and that average is considered the approval rating for that day.  The independent variable is the number of days following the shutdown in response to the Covid-19 pandemic.  

```{r}
trump_approval <- pres_approval |>
  filter(politician == "Donald Trump")

t_approval_day_mean <- trump_approval |>
  group_by(end_date) |>
  mutate(
    average_yes = mean(yes) 
      ) |>
  summarize(
    average_day_yes = mean(average_yes)
  )
```

Sorts the averages of each day in order of the earliest date to the latest date.
```{r}
t_approval_date <- t_approval_day_mean[order(as.Date(t_approval_day_mean$end_date, format="%m/%d/%Y")),]

t_approval_date <- t_approval_date |>
  mutate(observation = 1:n())

t_approval_date <- t_approval_date |> 
  filter(observation >= 1149) |>
  mutate(observation = 1:n()) 
```


This graph shows the average approval data from 3/15/20-1/19/21. Demonstrating what the dependent variable looks like based on the many polls that were conducted.
```{r}
smoothed_plot <- ggplot(data = t_approval_date, mapping = aes(x = observation, y = average_day_yes)) +
  geom_point() +
  geom_smooth() +
  labs(
    title = "Trump Approval from 3/15/20-1/19/21",
    y = "Average Approval",
    x = "# of Days after Covid-19 Shutdown"
  )
smoothed_plot
```


This polls shows a linear model of how much approval decreased as the number of days after the Covid-19 shutdown started. The results of the lm() calculation show that for each day that passed, the approval rating decreased by -0.006412. This means there was a slight decrease in approval rating as the pandemic progressed and affected people's lives.
```{r}
linear_plot <- ggplot(data = t_approval_date, mapping = aes(x = observation, y = average_day_yes)) +
  geom_point() +
  geom_smooth(method = "lm") +
  labs(
    title = "Trump Approval from 3/15/20-1/19/21",
    y = "Average Approval",
    x = "# of Days after Covid-19 Shutdown"
  )

linear_plot
linear <- lm(average_day_yes ~ observation, data = t_approval_date)

linear

```



My results show that there was a slight decrease in approval rating as the pandemic progressed. I believe that this does show support for my hypothesis. But I believe it is a limited analysis because there are many things that could effect a President’s popularity besides the Covid-19 pandemic. Additionally, when you look at the plot of the average approval rating, you see that approval goes down, then increases for a time then starts to decrease again. To improve this analysis, you would have to look more at what other things happened during this period of time to establish if there was something else causing Trump’s decrease of popularity. 











